{% extends 'base.html.twig' %}

{% block title %}Evènement{% endblock %}

{% block body %}


<div class="container">
    <h1 class="text-center card-header bg-primary text-white">Notification Evènement</h1>
    <div class="d-flex justify-content-around">
        {# <a href={{path('event_index')}} class="btn btn-info mt-4">Liste Evènement</a> #}
        {# <a href={{ path('event_new') }} class="btn btn-primary mt-4">Créer Evènement</a> #}
        <a href={{ path('event_edit',{ id: event.id}) }} class="btn btn-warning mt-4">Modifier un Evènement</a>
        <a href={{ path('propal_show',{ id: event.id}) }} class="btn btn-warning mt-4">Faire une demande / proposition</a>
    </div>
   
    {# EVENT NAME #}

    <div class="card mb-3 mt-4">
        <h3 class="card-header text-center"><font style="vertical-align: inherit;">{{event.name}}</font></h3>
        <div class="card-body">
            <h5 class="card-title text-center"><font style="vertical-align: inherit;">Description</font></h5>
            <h6 class="card-subtitle text-muted text-center"><font style="vertical-align: inherit;">{{ event.description }}</font></h6>
        </div>
        <svg xmlns="http://www.w3.org/2000/svg" class="d-block user-select-none" width="100%" height="200" aria-label="Placeholder: Image Evènement" focusable="false" role="img" preserveAspectRatio="xMidYMid slice" viewBox="0 0 318 180" style="font-size:1.125rem;text-anchor:middle">
            <rect width="100%" height="100%" fill="#868e96"></rect>
            <text x="50%" y="50%" fill="#dee2e6" dy=".3em">{{event.image}}</text>
        </svg>
        <ul class="list-group list-group-flush">
            <li class="list-group-item text-center"><font style="vertical-align: inherit;"> Début : {{ event.start ? event.start|date('Y-m-d H:i:s') : '' }} </font></li>
            <li class="list-group-item text-center"><font style="vertical-align: inherit;"> Fin : {{ event.end ? event.end|date('Y-m-d H:i:s') : '' }} </font></li>
        </ul>
            <div class="card-footer text-muted text-center"><font style="vertical-align: inherit;">Nb Participant : {{ event.participant }}</font></div>
            <div class="card-footer text-muted text-center"><font style="vertical-align: inherit;">Creation de l'évènement : {{ event.created_at ? event.created_at|date('Y-m-d H:i:s') : '' }}</font></div>
    </div>

    <h1 class="mt-4 text-center card-header bg-primary text-white">Liste des demandes</h1>

     <table class="table table-hover mt-4">
        <thead>
            <tr>
                <th scope="col" class="text-center">Type</th>
                <th scope="col" class="text-center">Nom</th>
                <th scope="col" class="text-center">Adresse</th>
                <th scope="col" class="text-center">Nombre de Place</th>
                <th scope="col" class="text-center">Direction</th>
                <th scope="col" class="text-center">Jour / Heure de depart</th>
                <th scope="col" class="text-center">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for eventRequest in eventRequests %}
            <tr class="table-primary">
                <th scope="row" class="text-center">{{eventRequest.Type}}</th>
                {% for user in users %}
                <td class="text-center">{{user.firstname}}</td>
                {% endfor %}  
                <td class="text-center">{{eventRequest.address}}</td>
                <td class="text-center">{{eventRequest.NBSeat}}</td> 
                <td class="text-center">{{eventRequest.Direction}}</td>
                <td class="text-center">{{eventRequest.DepartureTime|date('Y-m-d H:i:s')}}</td>
                <td><a href="" class="btn btn-primary">Me positionner</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
</div>  

{% endblock %}
